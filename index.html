<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Play2-metrics by sdb</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Play2-metrics</h1>
        <p class="header"></p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/sdb/play2-metrics/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/sdb/play2-metrics/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/sdb/play2-metrics">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/sdb">sdb</a></p>


      </header>
      <section>
        <h1>Metrics plugin for Play Framework 2</h1>

<p>This plugin makes it easier to use <a href="http://metrics.codahale.com">Coda Hale Metrics</a> in a <a href="http://www.playframework.com">Play 2</a> application by
providing a mechanism to configure metrics reporting using Play's default configuration support.</p>

<h2>Installation</h2>

<p>Add the following dependencies to use Coda Hale Metrics in your project:</p>

<pre><code>"com.yammer.metrics" % "metrics-core" % "2.2.0"
"nl.grons" %% "metrics-scala" % "2.2.0"
</code></pre>

<p>Add the following dependency to use this plugin:</p>

<pre><code>libraryDependencies += "com.github.sdb" %% "play2-metrics" % "0.1.0"
</code></pre>

<p>Or, if you want to use a snapshot version:</p>

<pre><code>resolvers += "Sonatype snapshots" at "http://oss.sonatype.org/content/repositories/snapshots/"

libraryDependencies += "com.github.sdb" %% "play2-metrics" % "0.1.0-SNAPSHOT"
</code></pre>

<p>Register the plugin by adding it to <code>conf/play.plugins</code>:</p>

<pre><code>100:com.github.sdb.play2.metrics.MetricsPlugin
</code></pre>

<h2>Configuration</h2>

<h3>Defaults</h3>

<p>This is the default configuration used by this plugin (see <code>conf/reference.conf</code>):</p>

<pre><code>metrics {
    reporting {
        console {
            enabled = false
            period = 1
            unit = MINUTES
        }

        csv {
            enabled = false
            period = 1
            unit = MINUTES
            output = "."
        }

        graphite {
            enabled = false
            period = 1
            unit = MINUTES
            host = localhost
            port = 2003
        }

        ganglia {
            enabled = false
            period = 1
            unit = MINUTES
            host = localhost
            port = 8649
        }
    }
}
</code></pre>

<h3>Reporting Configuration</h3>

<h4>Reporting to Graphite</h4>

<p>Add the following dependency if you want to send metrics to a Graphite instance:</p>

<pre><code>"com.yammer.metrics" % "metrics-graphite" % "2.2.0"
</code></pre>

<p>Example configuration for reporting metrics to Graphite:</p>

<pre><code>metrics {
    reporting {
        graphite {
            enabled = true
            period = 1
            unit = MINUTES
            host = carbon.hostedgraphite.com
            port = 2003
            prefix = "apikey"
        }
    }
}
</code></pre>

<h4>Reporting to Console</h4>

<p>Example configuration for reporting metrics to the console:</p>

<pre><code>metrics {
    reporting {
        console {
            enabled = true
            period = 1
            unit = MINUTES
        }
    }
}
</code></pre>

<h2>Configuration on Heroku</h2>

<p>When deploying on Heroku you can use the <a href="https://addons.heroku.com/hostedgraphite">Hosted Graphite</a> add-on for your metrics.
You should add the following system properties to the <code>Procfile</code>:</p>

<ul>
<li>
<code>metrics.reporting.graphite.enabled</code>: should be set to <code>true</code>
</li>
<li>
<code>metrics.reporting.graphite.host</code>: should be set to <code>carbon.hostedgraphite.com</code>
</li>
<li>
<code>metrics.reporting.graphite.prefix</code>: should be set to the apikey for Hosted Graphite</li>
</ul><p>An example <code>Procfile</code>:</p>

<pre><code>web: target/start -Dhttp.port=$PORT -Dmetrics.reporting.graphite.enabled=true -Dmetrics.reporting.graphite.host=carbon.hostedgraphite.com -Dmetrics.reporting.graphite.prefix=$HOSTEDGRAPHITE_APIKEY $JAVA_OPTS
</code></pre>

<h2>Compatibility</h2>

<table>
<tr>
<th>play2-metrics</th>
<th>Play</th>
<th>Metrics</th>
</tr>
<tr>
<td>0.1.0</td>
<td>2.1.0</td>
<td>2.2.0</td>
</tr>
</table><h2>Licence</h2>

<p>This software is licensed under the Apache 2 license, quoted below.</p>

<p>Copyright 2013 Stefan De Boey</p>

<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this project except in compliance with the License. You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>.</p>

<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>